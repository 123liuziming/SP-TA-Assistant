# LAB12

### 18373030 艾力帕尔

-----------

Q1

进程是可以并行执行的计算单位；进程是程序在一个数据集合上的一次执行过程。进程就是处于执行期的程序（目标代码存放在某种存储介质上）。但进程并不仅仅局限于一段可执行程序代码（Unix 称为代码段，text section）。引入进程是因为传统意义上的程序已经以描述 OS 中各种活动之间的动态性、并发性、独立性还有相互制约性，而进程可以使得一个程序中拥有多个进程，互相传递信息工作。

-----------------

Q2

代码段A中:

`fork()`将被执行16次。

代码段B中：

`fork()`将会被执行5次，子进程会直接`break`跳出循环。

原因： 子进程中`fork()`返回的值为0，因此在生成的子进程中，进程会直接执行到`break`跳出循环结束执行。

--------------

Q3

如果一个进程终止了，但是父进程尚未清理该进程，这个进程为僵尸进程。通常父进程会立即处理子进程。如果子进程结束时，父进程忙于其他数据处理，则有可能父进程既不终止也不条用wait清理子进程，使得子进程成为僵尸进程。

父进程可以调用wait(int *status)等待子进程允许完毕。若调用成功则返回清理掉的子进程id，若调用出错则返回-1。父进程调用wait或waitpid时可能会： 

- 阻塞（如果它的所有子进程都还在运行）。 
- 带子进程的终止信息立即返回（如果一个子进程已终止，正等待父进程读取其终止信息）。
-  出错立即返回（如果它没有任何子进程）。

-----------

Q4

在linux系统中，信号是进程之间相互通信的方法直以。在Linux系统中，根据具体的的软硬件情况，内核程序会发出不同的信号来通知进程某个事件的发生。

对于信号的发送，尽管可以由某些用户进程发出，但是大多数情况下，都是由内核程序在遇到以下几种特定情况的时候向进程发送的，例如： 


1． 系统测出一个可能出现的硬件故障，如电源故障。 

2． 程序出现异常行为，如企图使用该进程之外的存贮器。 

3． 该进程的子进程已经终止。 

4． 用户从终端向目标程序发出中断（BREAK）键、继续(CTRL-Q)键等。 

----------------

Q5

未决状态：一个已经产生的信号，但是还没有传递给任何进程，此时该信号的状态就称为未决状态。

未决状态信号的产生主要是因为进程对此信号的阻塞。例如为进程产生一个选择为阻塞的信号，而且对该信号的动作是系统默认动作或捕捉该信号，则为该进程将此信号保持为未决状态，直到该进程对此信号解除了阻塞或者对此信号的动作改为忽略。

-----------------

Q6

可以利用POSIX有名信号灯实现共享内存的同步。有名信号量既可用于线程间的同步，又可用于进程间的同步。两个进程，对同一个共享内存读写，可利用有名信号量来进行同步。一个进程写，另一个进程读，利用两个有名信号量semr, semw。semr信号量控制能否读，初始化为0。 semw信号量控制能否写，初始为1。